<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
   <h:body>

      <ui:composition template="/template.xhtml">

         <ui:define name="content">
            <div id="rightContent">

                <h:form>

                    <div id="form_x_container" style="width: 140px; height: 110px">
                        <div>
                            <h:inputHidden id="xType" class="form_input_x" value="#{shotController.shot.x}"/>
                            <h:outputText id="form_output_x" value="x value: #{shotController.shot.x}"/>
                        </div>

                        <div class="button_block">
                            <h:commandButton value="-5" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(-5)}"/>
                            </h:commandButton>

                            <h:commandButton value="-4" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(-4)}"/>
                            </h:commandButton>

                            <h:commandButton value="-3" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(-3)}"/>
                            </h:commandButton><br/>

                            <h:commandButton value="-2" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(-2)}"/>
                            </h:commandButton>

                            <h:commandButton value="-1" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(-1)}"/>
                            </h:commandButton>

                            <h:commandButton value="0" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(0)}"/>
                            </h:commandButton><br/>

                            <h:commandButton value="1" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(1)}"/>
                            </h:commandButton>

                            <h:commandButton value="2" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(2)}"/>
                            </h:commandButton>

                            <h:commandButton value="3" type="button" styleClass="button input_x_button" >
                                <f:ajax render="xType form_output_x" listener="#{shotController.shot.setX(3)}"/>
                            </h:commandButton>
                        </div>

                    </div>

<!--                    <div id="form_x_container" style="width: 140px; height: 110px">
                        <label>x:</label><br/>

                        <label for="x_input_1">-2.0</label>
                        <h:selectBooleanCheckbox value="-2" id="x_input_1" />
                        <label for="x_input_1">-1.5</label>
                        <h:selectBooleanCheckbox value="-1.5" id="x_input_2" />
                        <label for="x_input_1">-1.0</label>
                        <h:selectBooleanCheckbox value="-1" id="x_input_3" />
                        <label for="x_input_1">-0.5</label>
                        <h:selectBooleanCheckbox value="-0.5" id="x_input_4" />
                        <label for="x_input_1">0.0</label>
                        <h:selectBooleanCheckbox value="0" id="x_input_5" />
                        <label for="x_input_1">0.5</label>
                        <h:selectBooleanCheckbox value="0.5" id="x_input_6" /><br/>
                    </div>-->

<!--                    <div id="form_x_container" style="margin-bottom: 10px; margin-top: 10px; height: 40px; width: 130px">
                        <h:outputLabel for="xType" value="x value:" />
                        <h:inputText class="form_input_y" id="xType" converter="YCoordinateConverter" value="#{shotController.shot.x}">
                        </h:inputText>
                    </div>-->


                    <div id="form_y_container" style="margin-bottom: 10px; margin-top: 10px; height: 40px; width: 130px">
                        <h:outputLabel for="yType" value="y value:" />
                        <h:inputText class="form_input_y" id="yType" converter="YCoordinateConverter" value="#{shotController.shot.y}">

                        </h:inputText>
                    </div>

                    <div id="form_R_container" style="width: 130px; height: 70px">
                        <h:outputLabel for="RType" value="R value:" />
                        <h:inputText class="slider_input" id="RType" value="#{shotController.shot.r}">
                            <f:validateDoubleRange minimum="2.0" maximum="5.0"/>
                        </h:inputText><br/>

                        <p:slider class='slider' for="RType" display="RType" minValue="2.0" maxValue="5.0" step="0.25" style="width:130px" />
                    </div>

                    <div class="formLine" style="width: 130px; height: 40px">
                        <h:commandButton styleClass="form_submit_button button" value="check" action="#{shotController.getManageRequest}">
                            <f:ajax execute="xType yType RType" render="tableResults"/>
                        </h:commandButton>

                        <h:commandButton action="#{shotResults.init}" styleClass="form_reset_button button " value="reset">
                            <f:ajax />
                        </h:commandButton>

                    </div>

                </h:form>

                <h:form style="display:none;">

                    <h:inputText class="input_x" id="xType-hidden" value="#{shotController.shot.x}" style="width:100px">
                    </h:inputText>

                    <h:inputText class="input_y" id="yType-hidden" value="#{shotController.shot.y}" style="width:100px">
                        <f:validateDoubleRange minimum="-3.0" maximum="5.0"/>
                    </h:inputText>

                    <h:inputText class="input_r" id="RType-hidden" value="#{shotController.shot.r}" style="width:100px">
                        <f:validateDoubleRange minimum="2.0" maximum="5.0"/>
                    </h:inputText>

                    <h:commandButton styleClass="button-hidden" action="#{shotController.getManageRequest}">
                        <f:ajax execute="xType-hidden yType-hidden RType-hidden" render="tableResults" />
                    </h:commandButton>

                </h:form>

            </div>
            <div id="leftContent">
                <svg id="graph" width="250" height="250" />
            </div>

             <div id="centerContent">

                 <p:dataTable id="tableResults" value="#{shotResults.results}" var="shot" sortMode="single"
                              styleClass="tableResults" style="margin-bottom: 15px; margin-top: 15px; border-color: black;">
                     <p:column headerText="X" style="text-align: center">
                         <h:outputText value="#{shot.x}"/>
                     </p:column>
                     <p:column headerText="Y" style="text-align: center">
                         <h:outputText value="#{shot.y}"/>
                     </p:column>
                     <p:column headerText="R" style="text-align: center">
                         <h:outputText value="#{shot.r}"/>
                     </p:column>
                     <p:column headerText="Hit" style="text-align: center">
                         <h:outputText value="#{shot.hit}"/>
                     </p:column>
                     <p:column headerText="Time" style="text-align: center">
                         <h:outputText value="#{shot.currentTime}"/>
                     </p:column>
                 </p:dataTable>

             </div>


         </ui:define>

         <ui:define name="footer">
            <h:link value="start page" outcome="toStart"/>
         </ui:define>

          <ui:define name="scripts">
              <h:outputScript name="clock.js" library="js" />

              <h:outputScript name="redraw_labels.js" library="js" />
              <h:outputScript name="draw_graph.js" library="js" />
              <h:outputScript name="submit_and_reset_buttons_handler.js" library="js" />
              <h:outputScript name="onclick_event_handler.js" library="js" />
              <h:outputScript name="validate_input.js" library="js" />

              <h:outputScript name="onload_script.js" library="js" />
          </ui:define>

      </ui:composition>

   </h:body>
</html>
